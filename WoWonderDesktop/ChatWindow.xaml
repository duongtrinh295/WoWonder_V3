<Window x:Class="WoWonderDesktop.ChatWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WoWonderDesktop"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:properties="clr-namespace:WoWonderDesktop.language"
        xmlns:controls="clr-namespace:WoWonderDesktop.Controls"
        xmlns:viewmodels="clr-namespace:WoWonderDesktop.Controls"
        xmlns:gif="http://wpfanimatedgif.codeplex.com"
        mc:Ignorable="d"
        Title="Wowonder" MinHeight="700" MinWidth="1200" 
        TextOptions.TextFormattingMode="Ideal" 
        TextOptions.TextRenderingMode="Grayscale"
        FontWeight="Bold" FontFamily="{StaticResource Roboto}" 
        WindowStyle="None" AllowsTransparency="True"
        WindowStartupLocation="CenterScreen" AllowDrop="True" Height="900" Width="1400" >
    <Window.DataContext>
        <viewmodels:ViewModel/>
    </Window.DataContext>

    <Window.Resources>
        <Style TargetType="{x:Type local:ChatWindow}">
            <Setter Property="Template" >
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Window}">
                        <!-- Outer border with the dropshadow margin -->
                        <Border Padding="{Binding OuterMarginSizeThickness, FallbackValue=5}">
                            <!-- Main window outline -->
                            <Grid >
                                <!-- Opacity mask for corners on grid -->
                                <Border x:Name="Container"
                                        Background="{StaticResource BackgroundLightBrush}"
                                        CornerRadius="10" />
                                <!-- Window border and dropshadown -->
                                <Border CornerRadius="10"
                                        Background="{StaticResource ForegroundLightBrush}">
                                    <Border.Effect>
                                        <DropShadowEffect ShadowDepth="0" Opacity="0.2" />
                                    </Border.Effect>
                                </Border>
                                <!-- The main window content -->
                                <Grid>
                                    <!-- Corner clipping -->
                                    <Grid.OpacityMask>
                                        <VisualBrush Visual="{Binding ElementName=Container}" />
                                    </Grid.OpacityMask>
                                    <Grid.RowDefinitions>
                                        <!-- Title Bar -->
                                        <RowDefinition Height="30" />
                                        <!-- Window Content -->
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <!-- Title Bar -->
                                    <Grid Grid.Column="0" Panel.ZIndex="1">
                                        <Grid.ColumnDefinitions>
                                            <!-- Icon -->
                                            <ColumnDefinition Width="Auto" />
                                            <!-- Title -->
                                            <ColumnDefinition Width="Auto" />
                                            <ColumnDefinition Width="*" />
                                            <!-- Windows Button -->
                                            <ColumnDefinition Width="Auto" />
                                        </Grid.ColumnDefinitions>
                                        <!-- Icon -->
                                        <Button Style="{StaticResource SystemIconButton}" Command="{Binding MenuCommand}">
                                            <Image Source="/Images/Icon.ico" />
                                        </Button>
                                        <!-- Title -->
                                        <Viewbox Grid.Column="1" Margin="0">
                                            <TextBlock FontSize="8" Style="{StaticResource HeaderText}" FontWeight="DemiBold" Foreground="Black" Text="{Binding RelativeSource={RelativeSource TemplatedParent}, Path=Title}" />
                                        </Viewbox>
                                        <!-- Window Buttons -->
                                        <StackPanel Grid.Column="3" Orientation="Horizontal">
                                            <Button x:Name="Btn_Minimize" Style="{StaticResource WindowControlButton}" Content="–" Click="Btn_Minimize_OnClick" />
                                            <Button x:Name="Btn_Maximize" Style="{StaticResource WindowControlButton}" Content="&#128470;" Click="Btn_Maximize_OnClick" />
                                            <Button x:Name="Btn_Close" Style="{StaticResource WindowCloseButton}" Content="X" Click="Btn_Close_OnClick" />
                                        </StackPanel>
                                    </Grid>

                                    <!-- Page Content -->
                                    <Border Grid.Row="1" Padding="{Binding InnerContentPadding}">
                                        <ContentPresenter Content="{TemplateBinding Content}" />
                                    </Border>
                                </Grid>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

        </Style>


        <DataTemplate x:Key="StickersItemBigTemplate">
            <Button HorizontalAlignment="Center" materialDesign:ShadowAssist.Darken="False" BorderBrush="Transparent" Tag="{Binding Icon}" CommandParameter="{Binding PackageId}" VerticalAlignment="Center"  Margin="5" Width="50" Height="50" RenderTransformOrigin="1.366,0.72" Click="StickerBig_OnClick" >
                <Button.Background>
                    <ImageBrush  ImageSource="{Binding Icon, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImageGrey}, TargetNullValue={StaticResource DefaultImageGrey}}"/>
                </Button.Background>
            </Button>
        </DataTemplate>

        <DataTemplate x:Key="StickersItemSmallTemplate">
            <Button HorizontalAlignment="Center" materialDesign:ShadowAssist.Darken="False" BorderBrush="Transparent" CommandParameter="{Binding PackageId}" VerticalAlignment="Center" Margin="2,0,2,0" Width="30" Height="30" RenderTransformOrigin="1.366,0.72" Click="StickerSmall_OnClick" >
                <Button.Background>
                    <ImageBrush  ImageSource="{Binding Image, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImageGrey}, TargetNullValue={StaticResource DefaultImageGrey}}"/>
                </Button.Background>
            </Button>
        </DataTemplate>

        <Style x:Key="ContactInfoButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
        </Style>

        <ControlTemplate x:Key="ContactInfoButtonTemplate" TargetType="{x:Type Button}">
            <Border 
                Background="{TemplateBinding Background}"
                BorderBrush="{TemplateBinding BorderBrush}"
                BorderThickness="{TemplateBinding BorderThickness}">
                <Grid VerticalAlignment="Center">
                    <Grid.ColumnDefinitions>

                        <!--Profile photo-->
                        <ColumnDefinition Width="75"/>

                        <!--Name & Oline status-->
                        <ColumnDefinition/>
                    </Grid.ColumnDefinitions>

                    <Ellipse Height="40"  Width="40">
                        <Ellipse.Fill>
                            <ImageBrush  x:Name="ChatImageUser" ImageSource="{Binding AvatarUser, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImageAvatar}, TargetNullValue={StaticResource DefaultImageAvatar}}"  Stretch="UniformToFill"/>
                        </Ellipse.Fill>
                    </Ellipse>

                    <Grid
                    Grid.Column="1">
                        <!--data Header-->
                        <StackPanel Width="310" Grid.Column="0" Grid.Row="0"  HorizontalAlignment="Left" Height="42" >
                            <TextBlock x:Name="ChatTitleChange"  Text="{Binding Name}"  FontSize="15" FontWeight="DemiBold" Padding="8,2,0,0" />
                            <TextBlock x:Name="ChatSeen" Text="{Binding LastSeen}" FontSize="13" Padding="8,2,0,0" />
                        </StackPanel>
                    </Grid>
                </Grid>
            </Border>
        </ControlTemplate>
    </Window.Resources>

    <WindowChrome.WindowChrome>
        <WindowChrome ResizeBorderThickness="6"  CaptionHeight="40" CornerRadius="0"  GlassFrameThickness="0"/>
    </WindowChrome.WindowChrome>

    <Grid>
        <DockPanel LastChildFill="True">

            <Grid DockPanel.Dock="Left" >

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="70"/>
                    <ColumnDefinition Width="350"/>
                </Grid.ColumnDefinitions>

                <!--Menu-->
                <Grid Grid.Column="0" Background="{StaticResource ForegroundVeryDarkBrush}">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="100"/>
                        <RowDefinition Height="*"/>
                    </Grid.RowDefinitions>

                    <!--I will provide all the assets link in description-->
                    <!--#region Profile Button-->
                    <controls:RoundProfileButton x:Name="ImageProfileButton"  Tap="ImageProfileButton_OnTap" Grid.Row="0" Height="50" Width="50" ProfileImageSource="Images/no_profile_image_circle.png" IsOnline="True" />

                    <!--#endregion-->

                    <controls:MenuListControl  Grid.Row="1" Padding="0,40,0,0"  />

                </Grid>

                <!--chat List-->
                <Grid Grid.Column="1" Margin="0,15,0,0">

                    <Grid.RowDefinitions>

                        <!--Title & Search Options etc.-->
                        <RowDefinition Height="Auto"/>

                        <!--Searchbox-->
                        <RowDefinition Height="Auto"/>

                        <!--Chats List-->
                        <RowDefinition/>
                    </Grid.RowDefinitions>

                    <!--Title & Search Options etc.-->
                    <Grid x:Name="SearchGrid"
                          Height="40"
                          Margin="10,0,0,0">
                        <Grid.ColumnDefinitions>

                            <!--Title-->
                            <ColumnDefinition Width="*"/>

                            <!--More Options Button-->
                            <ColumnDefinition Width="40"/>
                        </Grid.ColumnDefinitions>

                        <!--#region SearchBox-->
                        <Border  
                            Background="#f3f3f3"
                            CornerRadius="6"
                            Grid.Column="0" Grid.Row="0" 
                            x:Name="searchBoxBorder"
                            FocusManager.FocusedElement="{Binding ElementName=searchQuery}" >

                            <StackPanel Orientation="Horizontal" >
                                <materialDesign:PackIcon x:Name="MagnifyIcon1" Kind="Magnify" Foreground="DimGray" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="10 0 0 0" />

                                <TextBox
                                    Background="Transparent"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                    Name="searchQuery"
                                    Padding="8,0"
                                    materialDesign:HintAssist.Hint="{x:Static properties:LocalResources.label_Txt_searchMessages}"
                                    materialDesign:TextFieldAssist.DecorationVisibility="Hidden"   
                                    Text="{Binding SearchText, UpdateSourceTrigger=PropertyChanged}"
                                    VerticalContentAlignment="Center"
                                    VerticalAlignment="Stretch">
                                    <TextBox.InputBindings>
                                        <!--key Binding to Search on 'Enter' key press-->
                                        <KeyBinding Command="{Binding SearchCommand}" Key="Return"/>

                                        <!--key Binding to Clear Search text on 'Esc' key press-->
                                        <KeyBinding Command="{Binding ClearSearchCommand}" Key="Escape"/>
                                    </TextBox.InputBindings>
                                </TextBox>

                            </StackPanel>

                        </Border>
                        <!--#endregion-->

                        <!--More options Popup Menu-->
                        <ToggleButton 
                            Grid.Column="1"
                            x:Name="btnMoreOptions"
                            Foreground="#b7b5b8"
                            Content="{StaticResource more}"
                            VerticalAlignment="Center"
                            HorizontalAlignment="Center"
                            Command="{Binding WindowsMoreOptionsCommand}"
                            Style="{StaticResource ToggleIconButtonStyle}"/>

                    </Grid>

                    <Grid x:Name="ContentsChatListGrid" Visibility="Visible" Grid.Row="2" Margin="0,10,0,5" >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="8" />
                            <RowDefinition Height="*" />
                            <RowDefinition x:Name="RowDefinitionGroups" Height="50" />
                            <RowDefinition Height="40" />
                        </Grid.RowDefinitions>

                        <ProgressBar Grid.Column="0" Grid.Row="0"  x:Name="ProgressBarLastChat" Visibility="Visible" IsIndeterminate="False" Height="5" Background="{StaticResource WownderDefaulHoverBrush}" BorderBrush="{StaticResource WownderDefaulHoverBrush}" VerticalAlignment="Top"  />

                        <!--#region Chat List-->
                        <controls:ChatListControl Grid.Row="1" />
                        <!--#endregion-->

                        <!--Groups-->
                        <StackPanel Grid.Row="2" VerticalAlignment="Top" Margin="-15,0,0,0" >
                            <Expander x:Name="GroupsExpander" BorderBrush="Transparent" FontFamily="{StaticResource RobotoBold}" FontWeight="SemiBold" Expanded="GroupsExpander_OnExpanded" Collapsed="GroupsExpander_OnCollapsed" Background="{x:Null}" HorizontalAlignment="Stretch" Foreground="DimGray" ExpandDirection="Down" >
                                <Expander.Header>
                                    <BulletDecorator>
                                        <BulletDecorator.Bullet>
                                            <Path  Fill="DimGray" Data="{StaticResource newgroup}"  HorizontalAlignment="Left" VerticalAlignment="Top" />
                                        </BulletDecorator.Bullet>
                                        <TextBlock Margin="8,0,6,0" FontSize="13" Text="{x:Static properties:LocalResources.label5_Groups}" VerticalAlignment="Center" FontFamily="{StaticResource RobotoBold}"  HorizontalAlignment="Stretch" Foreground="DimGray" />
                                    </BulletDecorator>
                                </Expander.Header>
                                <StackPanel >
                                    <ListBox  x:Name="GroupsList" SelectionChanged="GroupsList_OnSelectionChanged"  MouseMove="GroupsList_OnMouseMove">
                                        <ListBox.ItemContainerStyle>
                                            <Style TargetType="{x:Type ListBoxItem}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ListBoxItem">
                                                            <StackPanel Margin="5">
                                                                <StackPanel.Background>
                                                                    <SolidColorBrush Color="Transparent"/>
                                                                </StackPanel.Background>
                                                                <StackPanel Orientation="Horizontal" Height="25" >
                                                                    <materialDesign:PackIcon Padding="2" Margin="25,0,0,0" VerticalAlignment="Center" Kind="ChatProcessingOutline" Foreground="{StaticResource WownderDefaultBrush}" Width="17" Height="17" />
                                                                    <Label x:Name="Groups_Label" Foreground="{Binding SColorForeground}" FontSize="15" Content="{Binding GroupName}" FontFamily="{StaticResource RobotoBold}" Margin="5,0,0,0" />
                                                                </StackPanel>
                                                            </StackPanel>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Cursor" Value="Hand" />
                                                    </Trigger>
                                                    <Trigger Property="IsMouseOver" Value="True" />
                                                </Style.Triggers>
                                            </Style>
                                        </ListBox.ItemContainerStyle>
                                    </ListBox>
                                </StackPanel>
                            </Expander>
                        </StackPanel>

                        <StackPanel Margin="9,0,0,0" Grid.Row="3" Orientation="Horizontal" VerticalAlignment="Center">
                            <materialDesign:PackIcon  VerticalAlignment="Center" Kind="PlusCircle" Foreground="{StaticResource WownderDefaultBrush}" Width="20" Height="20" />

                            <Button  x:Name="BtnCreateGroup" 
                                     Margin="-13,0,0,0" 
                                     VerticalAlignment="Center" FontStretch="Condensed" 
                                     Background="Transparent" 
                                     HorizontalContentAlignment="Left" HorizontalAlignment="Left" 
                                     FontFamily="{StaticResource RobotoBold}" FontWeight="SemiBold"
                                     BorderBrush="Transparent" Content="{x:Static properties:LocalResources.label5_CreateGroupChat}" 
                                     Foreground="DimGray"  FontSize="15" 
                                     Click="BtnCreateGroup_OnClick"  />
                        </StackPanel>
                    </Grid>

                    <Grid x:Name="ContentsContactUserGrid" Visibility="Collapsed" Grid.Row="2" Margin="5,10,10,5" >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*" />
                        </Grid.RowDefinitions>

                        <!--#region Chat List-->
                        <controls:ContactUserControl Grid.Row="0" />
                        <!--#endregion-->

                    </Grid>

                </Grid>
            </Grid>

            <!--Tab contents-->
            <Grid>
                <TabControl BorderBrush="Transparent">

                    <!--Messages-->
                    <TabItem  Width="200" x:Name="MessagesTabItem" >
                        <TabItem.Header >
                            <StackPanel Orientation="Horizontal" >
                                <TextBlock FontSize="16" Text="{x:Static properties:LocalResources.label5_Messenger}" FontFamily="{StaticResource RobotoBold}" VerticalAlignment="Bottom" Margin="0,5,0,0" HorizontalAlignment="Center" />
                            </StackPanel>
                        </TabItem.Header>
                        <TabItem.Content>
                            <DockPanel x:Name="MessagesTabDockPanel" VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="65*"/>
                                        <ColumnDefinition Width="42*"/>
                                        <ColumnDefinition Width="867*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid x:Name="Contents_Grid" Grid.Column="0" Grid.ColumnSpan="3" >
                                        <!--<Grid.Background>
                                            <ImageBrush x:Name="BackgroundChat" ImageSource="Images/Backgrounds/emoji-background.jpg"  Stretch="Fill" TileMode="None" ViewportUnits="RelativeToBoundingBox" />
                                        </Grid.Background>-->
                                        <Grid.Style>
                                            <Style TargetType="{x:Type Grid}">
                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding Name}" Value="{x:Null}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Grid.Style>
                                        <Grid.RowDefinitions>
                                            <!--Conversation Header-->
                                            <RowDefinition Height="Auto"/>

                                            <!--Reply popup-->
                                            <RowDefinition Height="Auto"/>

                                            <!--Body-->
                                            <RowDefinition/>

                                            <!--Reply popup-->
                                            <RowDefinition Height="Auto"/>

                                            <!--Send Message box-->
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <Grid 
                                             Height="60"
                                             Margin="0,0,0,0"
                                             Grid.Row="0"
                                             Background="WhiteSmoke"
                                             VerticalAlignment="Center">
                                            <Grid.ColumnDefinitions>
                                                <!--Contact Header Name & Online Status-->
                                                <ColumnDefinition/>

                                                <!--Video Call Button-->
                                                <ColumnDefinition Width="50"/>

                                                <!--Search Message Button-->
                                                <ColumnDefinition Width="50"/>

                                                <!--More Options-->
                                                <ColumnDefinition Width="50"/>
                                            </Grid.ColumnDefinitions>

                                            <!--to open contact info on contact button click-->
                                            <!--Contact Info Button-->
                                            <Button 
                                                 Grid.Column="0"
                                                 Command="{Binding OpenContactinfoCommand}"
                                                 Template="{StaticResource ContactInfoButtonTemplate}"
                                                 Style="{StaticResource ContactInfoButtonStyle}"/>

                                            <!--Video call Button-->
                                            <Button 
                                                x:Name="VideoCallButton"
                                                Content="{StaticResource videocall}"
                                                Foreground="#b7b5b8"
                                                Grid.Column="1"
                                                Click="VideoCallButton_OnClick"
                                                Style="{StaticResource IconButtonStyle}"/>

                                            <!--SearchButton-->
                                            <Button
                                              Command="{Binding OpenConversationSearchCommand}"
                                              Foreground="#b7b5b8"
                                              Content="{StaticResource search}"
                                              Grid.Column="2"
                                              Style="{StaticResource IconButtonStyle}"/>

                                            <!--More Options Button-->
                                            <ToggleButton 
                                            Grid.Column="3"
                                            x:Name="ConversationMoreOptions"
                                            Foreground="#b7b5b8"
                                            Content="{StaticResource more}"
                                            Command="{Binding ConversationScreenMoreOptionsCommand}"
                                            Style="{StaticResource ToggleIconButtonStyle}"/>
                                        </Grid>

                                        <Border x:Name="PinMessageView" Visibility="Collapsed" MouseLeftButtonUp="PinMessageView_OnMouseLeftButtonUp" CornerRadius="6" Background="#f3f3f3" Margin="10" Grid.Row="1">

                                            <Grid >
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="20" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="60" />
                                                    <ColumnDefinition Width="30" />
                                                </Grid.ColumnDefinitions>

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*" />
                                                </Grid.RowDefinitions>

                                                <StackPanel Grid.Column="0"  Width="4" Margin="5" HorizontalAlignment="Right" Background="{StaticResource WownderDefaultBrush}" />

                                                <StackPanel Grid.Column="1"  Orientation="Vertical" >

                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock Text="{x:Static properties:LocalResources.label5_PinnedMessages}" FontFamily="{StaticResource RobotoBold}" FontWeight="SemiBold" Foreground="{StaticResource WownderDefaultBrush}" Padding="2" />
                                                    </StackPanel>

                                                    <TextBlock x:Name="ShortPinMessage" Margin="0,0,0,3" Padding="3" Foreground="Black" />

                                                </StackPanel>

                                                <Path  Grid.Column="2" Fill="DimGray" Data="{StaticResource list}" Width="60" Height="20"  HorizontalAlignment="Center" VerticalAlignment="Center" />

                                            </Grid>
                                        </Border>


                                        <StackPanel x:Name="LoadingMessagesPanel" Grid.Row="2" Orientation="Vertical" VerticalAlignment="Center">
                                            <TextBlock FontSize="16" Text="{x:Static properties:LocalResources.label5_Loading_messages}" Foreground="#444444" VerticalAlignment="Bottom" Margin="0,5,0,5" HorizontalAlignment="Center" />
                                            <ProgressBar Width="150" IsIndeterminate="True" />
                                        </StackPanel>

                                        <!--Conversation Messages Body-->
                                        <controls:ConversationControl Grid.Row="2"/>

                                        <!--Reply a specific message-->
                                        <Border CornerRadius="6" Background="#f3f3f3" Margin="10" Grid.Row="3">
                                            <Border.Style>
                                                <Style TargetType="{x:Type Border}">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                    <Style.Triggers>
                                                        <DataTrigger Binding="{Binding MessageToReplyText}" Value="">
                                                            <!--if there is no text in Message To Reply or User didn't click the reply button then hide the reply border popup-->
                                                            <Setter Property="Visibility" Value="Collapsed"/>
                                                        </DataTrigger>
                                                    </Style.Triggers>
                                                </Style>
                                            </Border.Style>

                                            <Grid >
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="20" />
                                                    <ColumnDefinition Width="*" />
                                                    <ColumnDefinition Width="60" />
                                                    <ColumnDefinition Width="30" />
                                                </Grid.ColumnDefinitions>

                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="*" />
                                                </Grid.RowDefinitions>

                                                <StackPanel Grid.Column="0"  Width="4" Margin="5" HorizontalAlignment="Right" Background="{StaticResource WownderDefaultBrush}" />

                                                <StackPanel Grid.Column="1"  Orientation="Vertical" >

                                                    <StackPanel Orientation="Horizontal">
                                                        <TextBlock x:Name="TxtOwnerName" FontFamily="{StaticResource RobotoBold}" FontWeight="SemiBold" Foreground="{StaticResource WownderDefaultBrush}" Padding="2" />
                                                        <TextBlock x:Name="TxtMessageType" Foreground="{StaticResource WownderDefaultBrush}" Padding="2" />
                                                    </StackPanel>

                                                    <TextBlock x:Name="TxtShortMessage" Margin="0,3,0,0" Padding="2" />

                                                </StackPanel>

                                                <Image x:Name="MessageFileThumbnail" Grid.Column="2" Margin="1" Width="60" Height="auto" Source="Images/no_profile_image_circle.png" />

                                                <Button x:Name="CloseButton" Command="{Binding CancelReplyCommand}" Grid.Column="3" Margin="5,0,2,0" HorizontalAlignment="Center"  materialDesign:ShadowAssist.ShadowDepth="Depth0" Style="{StaticResource MaterialDesignFloatingActionButton}" VerticalAlignment="Center"
                                                   Width="26" Height="26" ToolTip="{x:Static properties:LocalResources.label5_Close}"  Background="{x:Null}"    >
                                                    <Button.BorderBrush>
                                                        <SolidColorBrush Color="#707070" Opacity="0.01"/>
                                                    </Button.BorderBrush>
                                                    <materialDesign:PackIcon Kind="Close" Foreground="Gray" Width="21" Height="21" />
                                                </Button>

                                            </Grid>
                                        </Border>

                                        <!--#region Textbox to send message-->
                                        <Grid Grid.Row="4">
                                            <Border
                                                 BorderBrush="#f3f3f3"
                                                 BorderThickness="2"
                                                 CornerRadius="6"
                                                 MinHeight="50"
                                                 MaxHeight="150"
                                                 Margin="10,8">
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <!--Attachment Button & Send Message Button-->
                                                        <ColumnDefinition Width="Auto"/>

                                                        <!--Textbox Button-->
                                                        <ColumnDefinition/>

                                                        <!--Attachment Button & Send Message Button-->
                                                        <ColumnDefinition Width="Auto"/>
                                                    </Grid.ColumnDefinitions>


                                                    <!--Buttons-->
                                                    <StackPanel  Grid.Column="0" Orientation="Horizontal">

                                                        <ToggleButton  Content="{StaticResource attach}"
                                                             x:Name="AttachButton"
                                                             Foreground="{StaticResource WownderDefaultBrush}"
                                                             Command="{Binding AttachmentOptionsCommand}"
                                                             Style="{StaticResource ToggleIconButtonStyle}"/>

                                                        <Button x:Name="SmileButton" Margin="5,6,2,0" HorizontalAlignment="Center" Click="SmileButton_Click" MouseDown="SmileButton_MouseDown" materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                                                                Style="{StaticResource MaterialDesignFloatingActionButton}" VerticalAlignment="Center" Width="26" Height="26"  ToolTip="{x:Static properties:LocalResources.label_Emoji_Icons}"  Background="{x:Null}" MouseMove="SmileButton_MouseMove"  >
                                                            <Button.BorderBrush>
                                                                <SolidColorBrush Color="Gray" Opacity="0.01"/>
                                                            </Button.BorderBrush>
                                                            <materialDesign:PackIcon x:Name="EmojiSmileofSmileButton" Kind="EmoticonHappy" Foreground="{StaticResource WownderDefaultBrush}" Width="21" Height="21" />
                                                        </Button>

                                                    </StackPanel>

                                                    <RichTextBox x:Name="MessageBoxText"  VerticalAlignment="Stretch" Grid.Column="1" materialDesign:HintAssist.Hint="{x:Static properties:LocalResources.label_MessageBoxText}"
                                                             VerticalScrollBarVisibility="Auto" ScrollViewer.HorizontalScrollBarVisibility="Disabled" AcceptsReturn="True" Foreground="Gray"
                                                             BorderThickness="0" Height="55" Width="auto" VerticalContentAlignment="Top" BorderBrush="White"  HorizontalAlignment="Stretch"
                                                             Margin="0" KeyDown="MessageBoxText_OnKeyDown"  GotFocus="MessageBoxText_OnGotFocus" Padding="15"
                                                             TextChanged="MessageBoxText_OnTextChanged" PreviewKeyDown="MessageBoxText_OnPreviewKeyDown">
                                                        <!--<RichTextBox.Resources> 
                                                            <Style TargetType="{x:Type Paragraph}">
                                                                <Setter Property="Margin" Value="0" />
                                                            </Style>
                                                        </RichTextBox.Resources>-->
                                                        <!--<FlowDocument  FontSize="14" FontWeight="Normal"  >
                                                            <Paragraph  Foreground="Gray" >
                                                                <Run BaselineAlignment="Top" Text="{x:Static properties:LocalResources.label_MessageBoxText}" />
                                                            </Paragraph>
                                                        </FlowDocument>-->
                                                    </RichTextBox>

                                                    <!--Buttons-->
                                                    <StackPanel  Grid.Column="2" Orientation="Horizontal">

                                                        <Border
                                                            Background="{StaticResource WownderDefaultBrush}"
                                                            BorderThickness="1"
                                                            CornerRadius="50"
                                                            Height="40"
                                                            Width="40"
                                                            Margin="10,8">

                                                            <Button  
                                                                Content="{StaticResource send}"
                                                                x:Name="SendMsgButton"
                                                                Foreground="White"
                                                                VerticalAlignment="Center"
                                                                HorizontalAlignment="Center"
                                                                Style="{StaticResource IconButtonStyle}"  
                                                                Command="{Binding SendMessageCommand}"/>

                                                        </Border>

                                                    </StackPanel>
                                                </Grid>
                                            </Border>
                                        </Grid>
                                        <!--#endregion-->

                                    </Grid>

                                    <!--Contact Info-->
                                    <controls:ContactInfoControl x:Name="ContactInfoScreen" Grid.Column="3" />

                                    <!--#region More Options-->
                                    <Popup 
                                        AllowsTransparency="True"
                                        PopupAnimation="Fade"
                                        StaysOpen="False" Grid.ColumnSpan="3">
                                        <Popup.Style>
                                            <Style TargetType="{x:Type Popup}">
                                                <Style.Triggers>
                                                    <!--Where & Where to place popup-->

                                                    <!--Open when More Options Button is selected-->
                                                    <DataTrigger Binding="{Binding IsChecked, Mode=TwoWay, ElementName=btnMoreOptions}" Value="True">
                                                        <Setter Property="PlacementTarget" Value="{Binding ElementName=btnMoreOptions}"/>
                                                        <Setter Property="IsOpen" Value="{Binding IsChecked, Mode=TwoWay, ElementName=btnMoreOptions}"/>
                                                        <Setter Property="HorizontalOffset" Value="0"/>
                                                        <Setter Property="VerticalOffset" Value="-10"/>
                                                        <Setter Property="Placement" Value="Bottom"/>
                                                    </DataTrigger>

                                                    <!--Open when More Options Button In Conversation Screen is selected-->
                                                    <DataTrigger Binding="{Binding IsChecked, Mode=TwoWay, ElementName=ConversationMoreOptions}" Value="True">
                                                        <Setter Property="PlacementTarget" Value="{Binding ElementName=ConversationMoreOptions}"/>
                                                        <Setter Property="IsOpen" Value="{Binding IsChecked, Mode=TwoWay, ElementName=ConversationMoreOptions}"/>
                                                        <Setter Property="HorizontalOffset" Value="0"/>
                                                        <Setter Property="VerticalOffset" Value="-10"/>
                                                        <Setter Property="Placement" Value="Bottom"/>
                                                    </DataTrigger>

                                                    <!--Open when Attachment Options Button In Conversation Screen is selected-->
                                                    <DataTrigger Binding="{Binding IsChecked, Mode=TwoWay, ElementName=AttachButton}" Value="True">
                                                        <Setter Property="PlacementTarget" Value="{Binding ElementName=AttachButton}"/>
                                                        <Setter Property="IsOpen" Value="{Binding IsChecked, Mode=TwoWay, ElementName=AttachButton}"/>
                                                        <Setter Property="HorizontalOffset" Value="0"/>
                                                        <Setter Property="VerticalOffset" Value="-10"/>
                                                        <Setter Property="Placement" Value="Top"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </Popup.Style>

                                        <Grid>
                                            <controls:MoreOptionsPopup>
                                                <controls:MoreOptionsPopup.Style>
                                                    <Style TargetType="{x:Type controls:MoreOptionsPopup}">
                                                        <!--Hidden By Default-->
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <!--Show only when more options but is checked-->
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding IsChecked, Mode=TwoWay, ElementName=btnMoreOptions}" Value="True">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                            <DataTrigger Binding="{Binding IsChecked, Mode=TwoWay, ElementName=ConversationMoreOptions}" Value="True">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </controls:MoreOptionsPopup.Style>
                                            </controls:MoreOptionsPopup>
                                            <controls:AttachFilePopupMenu>
                                                <controls:AttachFilePopupMenu.Style>
                                                    <Style TargetType="{x:Type controls:AttachFilePopupMenu}">
                                                        <Setter Property="Visibility" Value="Collapsed"/>
                                                        <!--Show only when more options but is checked-->
                                                        <Style.Triggers>
                                                            <DataTrigger Binding="{Binding IsChecked, Mode=TwoWay, ElementName=AttachButton}" Value="True">
                                                                <Setter Property="Visibility" Value="Visible"/>
                                                            </DataTrigger>
                                                        </Style.Triggers>
                                                    </Style>
                                                </controls:AttachFilePopupMenu.Style>
                                            </controls:AttachFilePopupMenu>
                                        </Grid>
                                    </Popup>
                                    <!--#endregion-->

                                    <!--#region Emojis Panel-->
                                    <StackPanel x:Name="ImogiPanel"  Panel.ZIndex="4" Margin="0,0,0,50"  Background="White" Height="340" Visibility="Collapsed"  Width="270" VerticalAlignment="Bottom" HorizontalAlignment="Left" MouseLeave="EmojisPanel_MouseLeave" MouseMove="EmojisPanel_MouseMove" MouseEnter="EmojisPanel_MouseEnter" Grid.ColumnSpan="3">
                                        <TabControl x:Name="EmojiTabcontrol" Margin="0,0,0,0" BorderBrush="White" BorderThickness="0">
                                            <TabControl.Resources>
                                                <Style TargetType="{x:Type TabItem}">
                                                    <Setter Property="Template">
                                                        <Setter.Value>
                                                            <ControlTemplate TargetType="{x:Type TabItem}">
                                                                <Grid >
                                                                    <Grid.RowDefinitions>
                                                                        <RowDefinition Height="39" />
                                                                    </Grid.RowDefinitions>
                                                                    <Grid.ColumnDefinitions>
                                                                        <ColumnDefinition Width="88"/>
                                                                    </Grid.ColumnDefinitions>
                                                                    <Border Name="Border"  Margin="-3,-3,-2,-2" Background="Transparent" BorderBrush="White" BorderThickness="0" CornerRadius="0" >
                                                                        <ContentPresenter x:Name="ContentSite" VerticalAlignment="Center"  HorizontalAlignment="Center" ContentSource="Header" Margin="12,0,12,2" RecognizesAccessKey="True" />
                                                                    </Border>

                                                                    <StackPanel Name="Line" Height="2" VerticalAlignment="Bottom" Margin="-1,0,-1,-2" Background="{StaticResource BackgroundLightBrush}" />
                                                                </Grid>
                                                                <ControlTemplate.Triggers>
                                                                    <Trigger Property="IsSelected" Value="True">
                                                                        <Setter Property="Panel.ZIndex" Value="100" />
                                                                        <Setter TargetName="Border" Property="Background" Value="{StaticResource BackgroundLightBrush}" />
                                                                        <Setter TargetName="Border" Property="BorderThickness" Value="1,1,1,0" />
                                                                        <Setter TargetName="Line" Property="Background" Value="{StaticResource WownderDefaultBrush}" />
                                                                        <Setter Property="FontWeight" Value="SemiBold" />
                                                                        <Setter Property="Foreground" Value="{StaticResource WownderDefaultBrush}" />

                                                                    </Trigger>
                                                                    <Trigger Property="IsEnabled" Value="False">
                                                                        <Setter TargetName="Border" Property="BorderBrush" Value="{StaticResource BackgroundLightBrush}" />
                                                                        <Setter Property="Foreground" Value="DarkGray" />
                                                                    </Trigger>
                                                                </ControlTemplate.Triggers>
                                                            </ControlTemplate>
                                                        </Setter.Value>
                                                    </Setter>
                                                </Style>
                                            </TabControl.Resources>

                                            <!--Tab  Items Emojis -->
                                            <TabItem Name="Fontweight"  Foreground="{DynamicResource WownderDefaultBrush}" Background="White" FontSize="12" Header="{x:Static properties:LocalResources.label_Emoji_Icons}">
                                                <TabItem.Content>
                                                    <StackPanel x:Name="FontweightPanel" Width="270" HorizontalAlignment="Left">
                                                        <Grid   Margin="0,0,0,0" >
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                                <ColumnDefinition Width="*" />
                                                            </Grid.ColumnDefinitions>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="40" />
                                                                <RowDefinition Height="40" />
                                                                <RowDefinition Height="40" />
                                                                <RowDefinition Height="40" />
                                                                <RowDefinition Height="40" />
                                                            </Grid.RowDefinitions>
                                                            <Button x:Name="NormalSmile" HorizontalAlignment="Center" BorderBrush="Transparent" Grid.Column="0" Grid.Row="0"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="NormalSmile_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Smile.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="LaughingEmoji" Grid.Column="1"  BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="LaughingEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Laughing Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="HappyFaceEmoji" Grid.Column="2" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="HappyFaceEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Happy Face Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="CrazyEmoji" Grid.Column="3"  BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="CrazyEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Crazy Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="ChesekyEmoji" Grid.Column="4"  BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="ChesekyEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Cheeky Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="CoolEmoji" Grid.Column="5"  BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="CoolEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Cool Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>

                                                            <Button x:Name="CringeEmoji" Grid.Row="1"  Grid.Column="0" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="CringeEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Cringe Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="CossolEmoji" Grid.Row="1" Grid.Column="1"  BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="CossolEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Flirting Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>

                                                            <Button x:Name="AngelEmoji" Grid.Row="1" Grid.Column="2" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="AngelEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Angel Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="CryingEmoji" Grid.Row="1" Grid.Column="3" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="CryingEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Crying Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="SadfaceEmoji" Grid.Row="1" Grid.Column="4" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="SadfaceEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Sadface Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="KissingEmoji" Grid.Row="1" Grid.Column="5" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Top" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="KissingEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Kissing Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="HeartEmoji" Grid.Row="2" Grid.Column="0" HorizontalAlignment="Center" BorderBrush="Transparent"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="HeartEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Heart Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>

                                                            <Button x:Name="BreakingHeartEmoji" Grid.Row="2" Grid.Column="1" HorizontalAlignment="Center" BorderBrush="Transparent"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="BreakingHeartEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Breaking Heart Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="HeartEyesEmoji" Grid.Row="2" Grid.Column="2" HorizontalAlignment="Center" BorderBrush="Transparent" VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="HeartEyesEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Heart Eyes Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="StarEmoji" Grid.Row="2" Grid.Column="3"  HorizontalAlignment="Center" BorderBrush="Transparent" VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="StarEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Star Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>

                                                            <Button x:Name="SurprisedEmoji" Grid.Row="2" Grid.Column="4" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="SurprisedEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Surprised Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="ScreamEmoji" Grid.Row="2" Grid.Column="5" BorderBrush="Transparent"  HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72" Click="ScreamEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Scream Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="PainedFaceEmoji" Grid.Row="3" Grid.Column="0" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="PainedFaceEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Pained Face Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="DissatisfiedEmoji" Grid.Row="3" Grid.Column="1" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="DissatisfiedEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Dissatisfied Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>

                                                            <Button x:Name="AngryEmoji" Grid.Row="3" Grid.Column="2" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="AngryEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Angry Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="AngryFace" Grid.Row="3" Grid.Column="3" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="AngryFace_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Angry Face.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="FaceWithStraightMouthEmoji" Grid.Row="3" Grid.Column="4" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72" Click="FaceWithStraightMouthEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Face With Straight Mouth Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="PuzzledEmoji" Grid.Row="3" Grid.Column="5" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="PuzzledEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Puzzled Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>

                                                            <Button x:Name="StraightFacedEmoji" Grid.Row="4" Grid.Column="0" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="StraightFacedEmoji_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Straight Faced Emoji.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                            <Button x:Name="HeavyExclamation" Grid.Row="4" Grid.Column="1" BorderBrush="Transparent" HorizontalAlignment="Center"  VerticalAlignment="Center" Width="30" Height="30" RenderTransformOrigin="1.366,0.72"  Click="HeavyExclamation_Click"  >
                                                                <Button.Background>
                                                                    <ImageBrush  ImageSource="Images\Emoji_Icons\Heavy Exclamation.png"/>
                                                                </Button.Background>
                                                            </Button>
                                                        </Grid>

                                                    </StackPanel>
                                                </TabItem.Content>
                                            </TabItem>

                                            <!--Tab  Items Stickers -->
                                            <TabItem Foreground="{DynamicResource WownderDefaultBrush}" Header="{x:Static properties:LocalResources.label_Item_My_Stickers}">
                                                <Grid >
                                                    <Grid.RowDefinitions>
                                                        <RowDefinition Height="260" />
                                                        <RowDefinition Height="5" />
                                                        <RowDefinition Height="Auto" />
                                                    </Grid.RowDefinitions>

                                                    <ListBox x:Name="StickersListBox" Grid.Row="0"
                                                        Margin="0,0,0,0" VerticalAlignment="Stretch" ScrollViewer.CanContentScroll="False" 
                                                        Visibility="Visible"  IsSynchronizedWithCurrentItem="True" ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                                                        Style="{DynamicResource ListBoxStyle1}" >
                                                        <ListBox.ItemsPanel>
                                                            <ItemsPanelTemplate>
                                                                <VirtualizingStackPanel IsVirtualizing="True" VirtualizationMode="Recycling" />
                                                            </ItemsPanelTemplate>
                                                        </ListBox.ItemsPanel>
                                                        <ListBox.ItemContainerStyle>
                                                            <Style TargetType="{x:Type ListBoxItem}">
                                                                <Setter Property="Template">
                                                                    <Setter.Value>
                                                                        <ControlTemplate TargetType="ListBoxItem">
                                                                            <StackPanel Margin="10" Orientation="Vertical" >
                                                                                <!--Name Sticker-->
                                                                                <Label Content="{Binding Name}" FontWeight="Normal" Margin="4,0,0,0" />
                                                                                <!--ListStickers-->
                                                                                <ItemsControl ItemsSource="{Binding ListSticker}" ItemTemplate="{StaticResource StickersItemBigTemplate}"  Padding="5"
                                                                                    VirtualizingPanel.IsContainerVirtualizable="True" 
                                                                                    VirtualizingStackPanel.VirtualizationMode="Recycling"
                                                                                    ScrollViewer.CanContentScroll="False"
                                                                                    VirtualizingPanel.IsVirtualizing="True"
                                                                                    VirtualizingPanel.CacheLengthUnit="Item" >
                                                                                    <ItemsControl.ItemsPanel>
                                                                                        <ItemsPanelTemplate>
                                                                                            <UniformGrid Columns="3"/>
                                                                                        </ItemsPanelTemplate>
                                                                                    </ItemsControl.ItemsPanel>
                                                                                </ItemsControl>

                                                                            </StackPanel>
                                                                        </ControlTemplate>
                                                                    </Setter.Value>
                                                                </Setter>
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="Cursor" Value="Hand" />
                                                                    </Trigger>
                                                                    <Trigger Property="IsMouseOver" Value="True" />
                                                                </Style.Triggers>
                                                            </Style>
                                                        </ListBox.ItemContainerStyle>

                                                    </ListBox>

                                                    <ProgressBar Grid.Column="0" Grid.Row="1" Margin="-3,-3,-3,0" x:Name="ProgressBarSearchStickers" IsIndeterminate="True"
                                                                 Height="5" Background="{StaticResource WownderDefaulHoverBrush}" 
                                                                 BorderBrush="{StaticResource WownderDefaulHoverBrush}"  Visibility="Collapsed"
                                                                 VerticalAlignment="Top"  />

                                                    <!--Button Stickers-->
                                                    <Grid Grid.Row="2"  Background="#efefef">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto" />
                                                            <ColumnDefinition Width="190" />
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>

                                                        <Button x:Name="BtnSLeft" Grid.Column="0" 
                                                                VerticalAlignment="Center" Width="14" Height="37" 
                                                                BorderBrush="Transparent" HorizontalAlignment="Left"  
                                                                RenderTransformOrigin="1.366,0.72" Margin="0 -3 0 0"
                                                                Background="{x:Null}" 
                                                                Click="Btn_S_left_Click" />

                                                        <ScrollViewer x:Name="HorizontalScrollViewer"  Grid.Column="1" HorizontalAlignment="Stretch"
                                                                      MaxWidth="200" VerticalScrollBarVisibility="Disabled" HorizontalScrollBarVisibility="Auto"
                                                                      CanContentScroll="False">
                                                            <ItemsControl x:Name="TabStickersBox" ItemsSource="{Binding ListTabStickers}" ItemTemplate="{StaticResource StickersItemSmallTemplate}"
                                                                          ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Disabled" Padding="0,3,0,3">
                                                                <ItemsControl.ItemsPanel>
                                                                    <ItemsPanelTemplate>
                                                                        <WrapPanel/>
                                                                    </ItemsPanelTemplate>
                                                                </ItemsControl.ItemsPanel>
                                                            </ItemsControl>
                                                        </ScrollViewer>

                                                        <TextBox x:Name="TxtSearchStickers" Grid.Column="1" Visibility="Hidden"
                                                                 KeyUp="Txt_searchStickers_OnKeyUp" TextChanged="Txt_searchStickers_OnTextChanged"
                                                                 Foreground="#444444" Margin="8,5,0,10" materialDesign:HintAssist.Hint="Search Stickers"  
                                                                 materialDesign:TextFieldAssist.DecorationVisibility="Hidden" BorderThickness="0" 
                                                                 MinWidth="200" VerticalAlignment="Center"  Width="230" />

                                                        <StackPanel Grid.Column="2"
                                                        HorizontalAlignment="Stretch"
                                                        VerticalAlignment="Center" 
                                                        Orientation="Horizontal"
                                                        Background="#efefef" Height="37" Margin="0,0,0,0">

                                                            <Button x:Name="BtnSRight"  
                                                              VerticalAlignment="Center" Width="10" Height="37" 
                                                              BorderBrush="Transparent" HorizontalAlignment="Right"  
                                                              RenderTransformOrigin="1.366,0.72" 
                                                              Background="{x:Null}" 
                                                              Click="Btn_S_Right_Click"/>

                                                            <Button Style="{DynamicResource MaterialDesignToolButton}" Click="Btn_searchStickers_OnClick" >
                                                                <materialDesign:PackIcon x:Name="IconSearchStickers" Tag="Search" Kind="Magnify" Foreground="DimGray" VerticalAlignment="Center" HorizontalAlignment="Left" />
                                                            </Button>

                                                            <Button Style="{DynamicResource MaterialDesignToolButton}" Click="Button_S_Setting_OnClick">
                                                                <materialDesign:PackIcon Kind="StickerEmoji" Foreground="DimGray" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="2 0 0 0" />
                                                            </Button>

                                                        </StackPanel>

                                                    </Grid>

                                                </Grid>

                                            </TabItem>
                                            <!--Tab  Items gift -->
                                            <TabItem x:Name="Gift" Foreground="{DynamicResource WownderDefaultBrush}" Header="{x:Static properties:LocalResources.label_gift}" >
                                                <TabItem.Content>
                                                    <Grid  x:Name="GiftGrid">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*" />
                                                            <RowDefinition Height="5" />
                                                            <RowDefinition Height="42" />
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*" />
                                                        </Grid.ColumnDefinitions>

                                                        <ListBox x:Name="GifsListView" Margin="-2,0,0,0"  Grid.Column="0" Grid.Row="0"  Height="240" HorizontalContentAlignment="Stretch" 
                                                             ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
                                                             Style="{StaticResource ListBoxStyle1}" SelectionChanged="GifsListview_OnSelectionChanged">
                                                            <ListBox.ItemsPanel>
                                                                <ItemsPanelTemplate>
                                                                    <UniformGrid Columns="2"/>
                                                                </ItemsPanelTemplate>
                                                            </ListBox.ItemsPanel>
                                                            <ListBox.ItemContainerStyle>
                                                                <Style TargetType="{x:Type ListBoxItem}">
                                                                    <Setter Property="Template">
                                                                        <Setter.Value>
                                                                            <ControlTemplate TargetType="ListBoxItem">
                                                                                <StackPanel Margin="5">
                                                                                    <StackPanel.Background>
                                                                                        <SolidColorBrush Color="Transparent"/>
                                                                                    </StackPanel.Background>
                                                                                    <StackPanel Orientation="Vertical">
                                                                                        <Border CornerRadius="10" Margin="3" Height="100" Width="130" >
                                                                                            <Image  x:Name="Gifs_MediaElement" gif:ImageBehavior.AnimatedSource="{Binding Images.FixedHeightDownsampled.Url, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImagePlacholder}, TargetNullValue={StaticResource DefaultImagePlacholder}}"
                                                                                                VerticalAlignment="Center" HorizontalAlignment="Center" Stretch="Fill"
                                                                                                gif:ImageBehavior.AnimateInDesignMode="True"
                                                                                                gif:ImageBehavior.AnimationLoaded="Gifs_MediaElement_OnAnimationLoaded"
                                                                                                MouseEnter="UIElement_OnMouseEnter"
                                                                                                MouseLeave="UIElement_OnMouseLeave"
                                                                                            />

                                                                                        </Border>
                                                                                    </StackPanel>

                                                                                </StackPanel>
                                                                            </ControlTemplate>
                                                                        </Setter.Value>
                                                                    </Setter>
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="Cursor" Value="Hand" />
                                                                        </Trigger>
                                                                        <Trigger Property="IsMouseOver" Value="True" />
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </ListBox.ItemContainerStyle>
                                                        </ListBox>

                                                        <ProgressBar Grid.Column="0" Grid.Row="1" Margin="-3,-3,-3,0" x:Name="ProgressBarSearchGifs" IsIndeterminate="True"
                                                         Height="5" Background="{StaticResource WownderDefaulHoverBrush}" 
                                                         BorderBrush="{StaticResource WownderDefaulHoverBrush}"  Visibility="Collapsed"
                                                         VerticalAlignment="Top"  />

                                                        <StackPanel Grid.Column="0" Grid.Row="2" Orientation="Horizontal">
                                                            <Button x:Name="BtnSearchGifs" Style="{DynamicResource MaterialDesignToolButton}" Click="Btn_searchGifs_OnClick">
                                                                <materialDesign:PackIcon x:Name="SearchGifsIcon" Kind="Magnify" Foreground="DimGray" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="5 0 0 0" />
                                                            </Button>

                                                            <TextBox x:Name="TxtSearchGifs"  Grid.Column="0" 
                                                              KeyUp="Txt_searchGifs_OnKeyUp" TextChanged="Txt_searchGifs_OnTextChanged"
                                                              Foreground="#444444" Margin="8,5,0,10" materialDesign:HintAssist.Hint="{x:Static properties:LocalResources.label_Txt_searchGifs}"  
                                                              materialDesign:TextFieldAssist.DecorationVisibility="Hidden" BorderThickness="0" 
                                                              MinWidth="200" VerticalAlignment="Center"  Width="230" />

                                                        </StackPanel>

                                                    </Grid>

                                                </TabItem.Content>

                                            </TabItem>

                                        </TabControl>
                                    </StackPanel>
                                    <!--#endregion-->
                                </Grid>
                            </DockPanel>

                        </TabItem.Content>
                    </TabItem>

                    <!--#region Search-->
                    <TabItem Width="200" x:Name="SearchTabItem" >
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal" >
                                <TextBlock FontSize="16" Text="{x:Static properties:LocalResources.label5_Explore}" FontFamily="{StaticResource RobotoBold}" VerticalAlignment="Bottom" Margin="0,5,0,0" HorizontalAlignment="Center" />
                            </StackPanel>
                        </TabItem.Header>
                        <TabItem.Content>
                            <DockPanel x:Name="SearchTabDockPanel"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="42" />
                                        <RowDefinition Height="5" />
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <StackPanel x:Name="SearchUserPanel"  Grid.Column="0" Grid.Row="0" Orientation="Horizontal">
                                        <Button x:Name="BtnSearchUser" Style="{DynamicResource MaterialDesignToolButton}" Click="Btn_SearchUser_OnClick">
                                            <materialDesign:PackIcon Kind="Magnify" Opacity=".56" />
                                        </Button>
                                        <TextBox x:Name="TxtSearchBoxOnline"  Grid.Column="1"  Foreground="#444" Margin="8 0 0 0" materialDesign:HintAssist.Hint="{x:Static properties:LocalResources.label_Txt_SearchBoxOnline}"
                                             materialDesign:TextFieldAssist.DecorationVisibility="Hidden" BorderThickness="0"  MinWidth="200" VerticalAlignment="Center" KeyUp="Txt_SearchBoxOnline_KeyUp" TextChanged="TxtSearchBoxOnline_OnTextChanged"  />
                                        <!--<Button Style="{DynamicResource MaterialDesignToolButton}" Grid.Column="2">
                                        <materialDesign:PackIcon Kind="Microphone" Opacity=".56" Margin="8 0 0 0" />
                                    </Button>-->
                                    </StackPanel>

                                    <ProgressBar Grid.Column="0" Grid.Row="1" Margin="-3,-3,-3,0" x:Name="ProgressBarSearchUser" Visibility="Hidden" IsIndeterminate="False" Height="5" Background="{StaticResource WownderDefaulHoverBrush}" BorderBrush="{StaticResource WownderDefaulHoverBrush}" VerticalAlignment="Top"  />

                                    <controls:EmptyPage Grid.Column="0" Grid.Row="2" x:Name="EmptyPageContentSearchUser" Visibility="Collapsed" />

                                    <ListBox x:Name="SearchUserList" Grid.Row="2" Grid.Column="0" Margin="-2,0,0,0" HorizontalContentAlignment="Stretch" 
                                             ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
                                             Style="{StaticResource ListBoxStyle1}" SelectionChanged="SearchUser_list_OnSelectionChanged" MouseMove="SearchUser_list_MouseMove"
                                             Button.Click="btn_Follow_OnClick"  >
                                        <ListBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="5"/>
                                            </ItemsPanelTemplate>
                                        </ListBox.ItemsPanel>
                                        <ListBox.ItemContainerStyle>
                                            <Style TargetType="{x:Type ListBoxItem}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ListBoxItem">
                                                            <StackPanel Margin="10" Orientation="Vertical" >
                                                                <StackPanel.Background>
                                                                    <SolidColorBrush Color="Transparent"/>
                                                                </StackPanel.Background>
                                                                <Ellipse HorizontalAlignment="Center" Width="140" Height="140">
                                                                    <Ellipse.Fill>
                                                                        <ImageBrush x:Name="brush" ImageSource="{Binding Avatar, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImageAvatar}, TargetNullValue={StaticResource DefaultImageAvatar}}" Stretch="UniformToFill"/>
                                                                    </Ellipse.Fill>
                                                                </Ellipse>
                                                                <Label Foreground="{Binding SColorForeground}" Content="{Binding Name}" VerticalAlignment="Center" HorizontalAlignment="Center" />
                                                                <Label Foreground="{Binding SColorForeground}" Content="{Binding LastSeenTimeText}" VerticalAlignment="Center" HorizontalAlignment="Center" />

                                                                <Button x:Name="btn_Follow" materialDesign:ShadowAssist.ShadowDepth="Depth0" FontSize ="12" Width="90" Height="26" FontWeight="Normal" Margin="0 11 0 0"
                                                                        HorizontalAlignment="Center" BorderBrush="{Binding ColorFollow}" VerticalAlignment="Center" Background="{Binding ColorFollow}"
                                                                        Foreground="{Binding TextColorFollowing}" Content="{Binding TextFollowing}" CommandParameter="{Binding UserId}" />

                                                            </StackPanel>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Cursor" Value="Hand" />
                                                    </Trigger>
                                                    <Trigger Property="IsMouseOver" Value="True" />
                                                </Style.Triggers>
                                            </Style>
                                        </ListBox.ItemContainerStyle>
                                    </ListBox>
                                </Grid>
                            </DockPanel>
                        </TabItem.Content>
                    </TabItem>
                    <!--#endregion-->

                    <!--#region Event-->
                    <TabItem Width="200" x:Name="EventTabItem" >
                        <TabItem.Header>
                            <StackPanel Orientation="Horizontal">
                                <TextBlock FontSize="16" Text="{x:Static properties:LocalResources.label5_Event}" FontFamily="{StaticResource RobotoBold}" VerticalAlignment="Bottom" Margin="0,5,0,0" HorizontalAlignment="Center" />
                            </StackPanel>
                        </TabItem.Header>
                        <TabItem.Content>
                            <DockPanel x:Name="EventTabDockPanel"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <controls:EmptyPage Grid.Column="0" Grid.Row="0" x:Name="EmptyPageContentEvent" Visibility="Collapsed" />

                                    <ListBox x:Name="EventList" Margin="-2,0,0,0"  Grid.Column="0" Grid.Row="0" HorizontalContentAlignment="Stretch" 
                                         ScrollViewer.HorizontalScrollBarVisibility="Disabled" 
                                         Style="{StaticResource ListBoxStyle1}" MouseMove="EventList_OnMouseMove">
                                        <ListBox.ItemsPanel>
                                            <ItemsPanelTemplate>
                                                <UniformGrid Columns="2"/>
                                            </ItemsPanelTemplate>
                                        </ListBox.ItemsPanel>
                                        <ListBox.ItemContainerStyle>
                                            <Style TargetType="{x:Type ListBoxItem}">
                                                <Setter Property="Template">
                                                    <Setter.Value>
                                                        <ControlTemplate TargetType="ListBoxItem">
                                                            <StackPanel Margin="5">
                                                                <StackPanel.Background>
                                                                    <SolidColorBrush Color="Transparent"/>
                                                                </StackPanel.Background>
                                                                <StackPanel Orientation="Vertical">
                                                                    <Border CornerRadius="10"  Height="250" Width="450" >
                                                                        <Border.Background>
                                                                            <ImageBrush Stretch="Fill" ImageSource="{Binding Cover, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImageCover}, TargetNullValue={StaticResource DefaultImageCover}}"/>
                                                                        </Border.Background>
                                                                        <Grid x:Name="EventStackPanel"   VerticalAlignment="Stretch"  Tag="{Binding Id}" MouseLeftButtonUp="EventStackPanel_OnMouseLeftButtonUp" >
                                                                            <Grid.Background>
                                                                                <LinearGradientBrush StartPoint="0,1" EndPoint="0,0">
                                                                                    <GradientStop Color="#00000000" Offset="1"/>
                                                                                    <GradientStop Color="#E6000000" Offset="0"/>
                                                                                </LinearGradientBrush>
                                                                            </Grid.Background>

                                                                            <StackPanel Orientation="Vertical" VerticalAlignment="Bottom" >

                                                                                <StackPanel x:Name="EventProfilePanel" Orientation="Horizontal" Tag="{Binding Id}"  MouseLeftButtonDown="EventProfilePanel_OnMouseLeftButtonDown" HorizontalAlignment="Left" Margin="15 0 15 15" >
                                                                                    <!--Profile picture-->
                                                                                    <Image HorizontalAlignment="Center" Source="{Binding UserData.Avatar, Converter={StaticResource ImgConverter}, IsAsync=true,FallbackValue={StaticResource DefaultImageAvatar}, TargetNullValue={StaticResource DefaultImageAvatar}}" Width="50" Height="50">
                                                                                        <Image.Clip>
                                                                                            <EllipseGeometry Center="25,25" RadiusX="25" RadiusY="25" />
                                                                                        </Image.Clip>
                                                                                    </Image>
                                                                                    <StackPanel HorizontalAlignment="Stretch" Orientation="Vertical"  Margin="5 5 0 0" >
                                                                                        <StackPanel HorizontalAlignment="Stretch" Orientation="Horizontal">
                                                                                            <TextBlock Foreground="White" Text="{Binding UserData.Name}" FontFamily="{StaticResource RobotoBold}"/>
                                                                                            <materialDesign:PackIcon Margin="5 5 0 0" Kind="CheckboxMarkedCircle" Width="12" Height="12" Visibility="{Binding UserData.UVerified}"  Foreground="#297CF9" />
                                                                                        </StackPanel>
                                                                                        <TextBlock Foreground="White" Text="{Binding UserData.LastSeenTimeText}" Margin="0 5 0 0" />
                                                                                    </StackPanel>
                                                                                </StackPanel>

                                                                                <TextBlock Foreground="White" Text="{Binding Name}" Margin="15 10 0 0" FontFamily="{StaticResource RobotoBold}" FontSize="18" TextTrimming="CharacterEllipsis" VerticalAlignment="Center" HorizontalAlignment="Left">
                                                                                    <TextBlock.Effect>
                                                                                        <DropShadowEffect ShadowDepth="1" Direction="0" Color="#000000" Opacity="0.8" BlurRadius="0.0" />
                                                                                    </TextBlock.Effect>
                                                                                </TextBlock>

                                                                                <TextBlock Foreground="White" Text="{Binding Description}" Margin="15,5,15,0" FontSize="10" FontFamily="{StaticResource RobotoRegular}" VerticalAlignment="Center" HorizontalAlignment="Left" TextTrimming="CharacterEllipsis" TextWrapping="NoWrap" />

                                                                                <StackPanel HorizontalAlignment="Stretch" Orientation="Horizontal" Margin="15 5 0 15">
                                                                                    <materialDesign:PackIcon Margin="0 1 2 0" Kind="Calendar" Width="12" Height="12" Foreground="#efefef" />
                                                                                    <TextBlock Foreground="White" Text="{Binding StartDate}" FontSize="10" FontFamily="{StaticResource RobotoRegular}" />

                                                                                    <materialDesign:PackIcon Margin="25 1 2 0" Kind="MapMarker" Width="12" Height="12" Foreground="#efefef" />
                                                                                    <TextBlock Foreground="White" Text="{Binding Location}" FontSize="10" FontFamily="{StaticResource RobotoRegular}" />

                                                                                </StackPanel>
                                                                            </StackPanel>
                                                                        </Grid>
                                                                    </Border>
                                                                </StackPanel>

                                                            </StackPanel>
                                                        </ControlTemplate>
                                                    </Setter.Value>
                                                </Setter>
                                                <Style.Triggers>
                                                    <Trigger Property="IsMouseOver" Value="True">
                                                        <Setter Property="Cursor" Value="Hand" />
                                                    </Trigger>
                                                    <Trigger Property="IsMouseOver" Value="True" />
                                                </Style.Triggers>
                                            </Style>
                                        </ListBox.ItemContainerStyle>
                                    </ListBox>
                                </Grid>
                            </DockPanel>
                        </TabItem.Content>
                    </TabItem>
                    <!--#endregion-->

                </TabControl>
            </Grid>
        </DockPanel>
    </Grid>
</Window> 